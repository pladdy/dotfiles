#!/usr/bin/env bash

get_plugin_dir_name() {
  local dir_name=${1##*/} # get repo name
  dir_name=${dir_name%.*} # remove .git
  echo $dir_name
}

declare -a plugins=(
  "scrooloose/nerdtree.git"
  "Xuyuanp/nerdtree-git-plugin.git"
  "plasticboy/vim-markdown.git"
  "tpope/vim-fireplace.git"
  "rust-lang/rust.vim.git"
)

##
 # check if plugins are installed by seeing if a .git dir is in the
 # corresponding directory of the plugin; if not clone.
 ##
BUNDLE_DIR=.vim/bundle

for plugin in "${plugins[@]}"
do
  DIR_NAME=${BUNDLE_DIR}/$(get_plugin_dir_name $plugin)

  if [ ! -d ${DIR_NAME}/.git ]
  then
    git clone git@github.com:$plugin $DIR_NAME
  else
    echo "$plugin seems to be installed; rm -rf $DIR_NAME to re-install"
  fi
done
